# 分库分表

* 随着数据量的增加，出现了一些问题
  * 数据库的库表维护代价增大
  * DDL的几乎不可能
  * 备份成问题
  * 主从延迟大

* 数据分库分表的好吃
  * 可以在部分库表上做备份，做DDL实验
  * 减少主从延迟
  * 高可用

* 分库，分表与分库分表——**水平拆分**
  * 分库 ：
    * 在数据库访问压力大的时候可以分担数据库的IO压力
    * 在当mysql实例上分库，和分表差距不大
  * 分表：无法解决IO瓶颈问题，但是可以缓解其他问题
    * 比如可以依据不同用户，将前50名用户分到一个库表中，用一套机器部署
    * 将后面的分到另一个库表汇总，用另外的一套机器部署
  * 分库分表：又分库又分表
  * 缺点：增加管理成本

* 垂直拆分——依据业务拆分数据库表
  * 根据业务结构拆分库表
  * 会侵入业务代码，让项目变得复杂

![image-20210514205337421](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20210514205337421.png)